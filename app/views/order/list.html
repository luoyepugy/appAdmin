
<div class="content-title">订单管理</div>
<div class="table-responsive p20">
    <!-- 列表 -->
    <table class="table table-condensed table-hover">
        <thead>
            <tr>
                <th>订单号</th>
                <th>名称</th>
                <th>数量</th>
                <th>单位</th>
                <th>单价</th>
                <th>总价</th>
                <th>采购地点</th>
                <th>状态</th>
                <th>时间</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="item in vm.orderList">
                <td>{{item['_id']}}</td>
                <td>{{item.productName}}</td>
                <td>{{item.productAmount}}</td>
                <td>{{item.productUnit}}</td>
                <td>{{item.unitPrice}}</td>
                <td>{{item.sumPrice}}</td>
                <td>{{item.shipAddress}}</td>
                <td>{{item.state}}</td>
                <td>{{item.createdOn | date:'yyyy-MM-dd'}}</td>
                <td>
                    <a ui-sref="admin.order-edit({orderId: item['_id']})" class="btn btn-default btn-xs">
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                        <span class="hidden-xs">编辑</span>
                    </a>
                    <span ng-show="{'报价': true}['item.state']" class="btn btn-default btn-xs" ng-click="vm.deleteUser(item['_id'])">
                        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                        <span class="hidden-xs">删除</span>
                    </span>
                </td>
            </tr>
        </tbody>    
    </table>
    <!-- /列表 -->
    <!-- 分页 -->
    <div class="pagination">
        <uib-pagination total-items="vm.pagination.bigTotalItems" ng-model="vm.pagination.bigCurrentPage" max-size="vm.pagination.maxSize" class="pagination-sm" items-per-page="1" previous-text="上一页" next-text="下一页" first-text="首页" last-text="末页" boundary-link-numbers="true" boundary-links="true" rotate="false" force-ellipses="true" ng-change="vm.pageChange()"></uib-pagination>
    </div>
    <!-- /分页 -->
</div>
<script type="text/ng-template" id="myModalContent.html">
    <div class="modal-header">
        <h3 class="modal-title">删除</h3>
    </div>
    <div class="modal-body">确定要删除吗？</div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="deleteOk()">确定</button>
        <button class="btn btn-default" type="button" ng-click="deleteCancel()">取消</button>
    </div>
</script>
